<header id="main-header">
    <div class="header-btns-container">
        <div class="layouts-list-container" (click)="toggleLayoutsList()" [ngClass]="{'shown': isLayoutsListShown, 'hidden': !isLayoutsListShown}">
            <span>Layouts <i class="fa fa-sort-desc" aria-hidden="true"></i><i class="fa fa-sort-asc" aria-hidden="true"></i>
            </span>
            <div class="layouts-list" #layoutsList>
                <div class="layout-1 layout" #layout1 (click)="changeLayout(1)" [ngClass]="{'active':(layout === 1)}">
                    <div>
                        <div>
                        </div>
                        <div>
                        </div>
                        <div>
                        </div>
                    </div>
                    <div>
                    </div>
                </div>
                <!---->
                <div class="layout-2 layout" #layout2  [ngClass]="{'active':(layout === 2)}" style="cursor:not-allowed;opacity: 0.5;">
                    <div>
                        <div>
                        </div>
                        <div>
                        </div>
                        <div>
                        </div>
                    </div>
                    <div>
                    </div>
                </div>
                <!---->
                <div class="layout-3 layout" #layout3 (click)="changeLayout(3)" [ngClass]="{'active':(layout === 3)}">
                    <div>
                        <div>
                        </div>
                        <div>
                        </div>
                        <div>
                        </div>
                    </div>
                    <div>
                    </div>
                </div>
                <!---->
                <div class="layout-4 layout" #layout4  [ngClass]="{'active':(layout === 4)}" style="cursor:not-allowed;opacity: 0.5;">
                    <div>
                        <div>
                        </div>
                        <div>
                        </div>
                        <div>
                        </div>
                    </div>
                    <div>
                    </div>
                </div>
            </div>
        </div>
        <button class="share-code-btn" (click)="runCode('save')">
            <span>Run and share</span>
        </button>
        <button class="share-code-btn" (click)="runCode()">
            <span>Run code</span>
        </button>
    </div>
</header>
<div class="main-container" (dragover)="mainContainerDragoverHandler($event)" [ngClass]="'layout-type-'+layout">
    <div id="code-parts-title-mobile">
        <a #htmlMobileToggle (click)="toggleCodePart('html')" [ngClass]="{'active':showHtml}">HTML</a>
        <a #cssMobileToggle (click)="toggleCodePart('css')" [ngClass]="{'active':showCss}">CSS</a>
        <a #jsMobileToggle (click)="toggleCodePart('js')" [ngClass]="{'active':showJs}">JS</a>
        <a #resultMobileToggle (click)="toggleCodePart('result')" [ngClass]="{'active':showResult}">Result</a>
    </div>
    <div id="code-parts" #codeParts [ngClass]="{'hide-mobile': !showHtml && !showCss && !showJs}" 
    [ngStyle]="{'width':'300px', 'height': !showResult ? '100%':'','max-height': !showResult ? '100%':''}"
    (dragover)="codePartsDragoverHandler($event)">
        <div #verticalResizerFloor class="vertical-resizer-floor hide" ></div>
        <div class="code-component-container code-component-container-html" 
        [ngClass]="{'hide-mobile': !showHtml, 'fullscreen': isHtmlFullScreen}" style="height:33.33%;top:0px;z-index:1;">
            <app-html-part class="code-component" [code]="htmlCode" (toggleFullScreen)="onToggleHTMLFullScreen($event, 'html')"></app-html-part>
        </div>
        <div class="code-component-container has-resizer code-component-container-css" [ngClass]="{'hide-mobile': !showCss, 'fullscreen': isCssFullScreen}" style="height:33.33%;top:33.33%;z-index:2;">
            <div draggable="true" #verticalResizerCss class="vertical-resizer" 
            (mousedown)="verticalResizerCssMousedownHandler($event)"
            (dragstart)="verticalResizerCssDragstartHandler($event)"
            (dragend)="verticalResizerCssDragendHandler($event)"
            [ngStyle]="{'top':verticalResizerCssTop}"></div>
            <app-css-part class="code-component" [code]="cssCode" (toggleFullScreen)="onToggleHTMLFullScreen($event, 'css')"></app-css-part>
        </div>
        <div class="code-component-container has-resizer code-component-container-js" [ngClass]="{'hide-mobile': !showJs, 'fullscreen': isJsFullScreen}" style="height:33.34%;top:66.33%;z-index:3;">
            <div draggable="true" #verticalResizerJs class="vertical-resizer"
            (mousedown)="verticalResizerJsMousedownHandler($event)"
            (dragstart)="verticalResizerJsDragstartHandler($event)"
            (dragend)="verticalResizerJsDragendHandler($event)"
            [ngStyle]="{'top':verticalResizerJsTop}"></div>
            <app-js-part class="code-component" [code]="jsCode" (toggleFullScreen)="onToggleHTMLFullScreen($event, 'js')"></app-js-part>
        </div>
    </div>
    <div #mainResizerFloor class="main-resizer-floor hide" ></div>
    <div draggable="true" #mainResizer id="main-resizer" 
    (mousedown)="mainResizerMousedownHandler($event)" 
    (dragstart)="mainResizerDragstartHandler($event)" 
    (dragend)="mainResizerDragendHandler($event)"
    [ngStyle]="{'left':mainResizerLeft, 'right':mainResizerRight}" [ngClass]="{'resize-mode':mainResizeMode}"></div>
    <app-iframe-part #iframePart [ngClass]="{'hide-mobile': !showResult}" 
    [ngStyle]="{'height': (!showHtml && !showCss && !showJs) ? '100%':'','max-height': (!showHtml && !showCss && !showJs) ? '100%':''}" 
    #iframePart></app-iframe-part>
</div>