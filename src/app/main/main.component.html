<header id="main-header">
    <div class="header-btns-container">
        <button id="share-code-btn" (click)="runCode('save')">
            <span>Run and save</span>
        </button>
        <button id="share-code-btn" (click)="runCode()">
            <span>Run code</span>
        </button>
    </div>
</header>
<div class="main-container" (dragover)="mainContainerDragoverHandler($event)">
    <div id="code-parts-title-mobile">
        <a #htmlMobileToggle (click)="toggleCodePart('html')" [ngClass]="{'active':showHtml}">HTML</a>
        <a #cssMobileToggle (click)="toggleCodePart('css')" [ngClass]="{'active':showCss}">CSS</a>
        <a #jsMobileToggle (click)="toggleCodePart('js')" [ngClass]="{'active':showJs}">JS</a>
        <a #resultMobileToggle (click)="toggleCodePart('result')" [ngClass]="{'active':showResult}">Result</a>
    </div>
    <div id="code-parts" #codeParts [ngClass]="{'hide-mobile': !showHtml && !showCss && !showJs}" 
    [ngStyle]="{'width':codePartsWidth, 'height': !showResult ? '100%':'','max-height': !showResult ? '100%':''}"
    (dragover)="codePartsDragoverHandler($event)">
        <div #verticalResizerFloor class="vertical-resizer-floor hide" ></div>
        <div class="code-component-container code-component-container-html" [ngClass]="{'hide-mobile': !showHtml}" style="height:33.33%;top:0px;z-index:1;">
            <app-html-part #htmlPart class="code-component" [code]="htmlCode"></app-html-part>
        </div>
        <div class="code-component-container has-resizer code-component-container-css" [ngClass]="{'hide-mobile': !showCss}" style="height:33.33%;top:33.33%;z-index:2;">
            <div draggable="true" #verticalResizerCss class="vertical-resizer" 
            (mousedown)="verticalResizerCssMousedownHandler($event)"
            (dragstart)="verticalResizerCssDragstartHandler($event)"
            (dragend)="verticalResizerCssDragendHandler($event)"
            [ngStyle]="{'top':verticalResizerCssTop}"></div>
            <app-css-part #cssPart  class="code-component" [code]="cssCode"></app-css-part>
        </div>
        <div class="code-component-container has-resizer code-component-container-js" [ngClass]="{'hide-mobile': !showJs}" style="height:33.34%;top:66.33%;z-index:3;">
            <div draggable="true" #verticalResizerJs class="vertical-resizer"
            (mousedown)="verticalResizerJsMousedownHandler($event)"
            (dragstart)="verticalResizerJsDragstartHandler($event)"
            (dragend)="verticalResizerJsDragendHandler($event)"
            [ngStyle]="{'top':verticalResizerJsTop}"></div>
            <app-js-part  #jsPart class="code-component" [code]="jsCode"></app-js-part>
        </div>
    </div>
    <div #mainResizerFloor class="main-resizer-floor hide" ></div>
    <div draggable="true" #mainResizer id="main-resizer" 
    (mousedown)="mainResizerMousedownHandler($event)" 
    (dragstart)="mainResizerDragstartHandler($event)" 
    (dragend)="mainResizerDragendHandler($event)"
    [ngStyle]="{'left':mainResizerLeft}" [ngClass]="{'resize-mode':mainResizeMode}"></div>
    <app-iframe-part #iframePart [ngClass]="{'hide-mobile': !showResult}" 
    [ngStyle]="{'height': (!showHtml && !showCss && !showJs) ? '100%':'','max-height': (!showHtml && !showCss && !showJs) ? '100%':''}" 
    #iframePart></app-iframe-part>
</div>